(this["webpackJsonpblog-post-hooks"]=this["webpackJsonpblog-post-hooks"]||[]).push([[4],{102:function(e,t,c){"use strict";c.r(t);var n=c(15),s=c(0),a=(c(98),c(6)),o=c(88),r=c(92),i=c(41),l=c(89),j=c(35),d=c.n(j),u=c(3),b=function(e){var t=Object(s.useState)(500),c=Object(n.a)(t,2),o=c[0],r=c[1],j=Object(i.a)({mode:"onChange"}),b=j.register,h=j.handleSubmit,O=j.formState.errors;return Object(u.jsx)("div",{children:Object(u.jsx)(l.a,{show:e.activePopup,modelClosed:e.modelClosed,children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"jumbotron text-center my-5",id:"myProfileDiv",children:[Object(u.jsx)("h3",{className:"display-4",children:"Create Post"}),Object(u.jsxs)("form",{onSubmit:h((function(t){var c=new Date,n=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" "+(c.getHours()+":"+c.getMinutes()+":"+c.getSeconds());e.saveButtonHandler(t.post,n),e.modelClosed()})),children:[Object(u.jsx)("textarea",Object(a.a)({className:d()("form-control",{"is-invalid":O.post}),placeholder:"...WritePost"},b("post",{required:"Write Some Post",validate:function(e){return function(e){var t=e.length;r(500-t)}(e)}}))),O.post&&Object(u.jsx)("p",{className:"invalid-feedback",children:O.post.message}),Object(u.jsxs)("p",{className:"text-info",children:[" ","You Have"," ",Object(u.jsxs)("span",{className:0===o?"text-danger":"text-info",children:[" ",o]}),"Character Left.."]}),Object(u.jsx)("button",{className:"btn btn-outline-info",type:"submit",children:"Save Post"})]})]})})})})},h=c(19),O=c(16),p=c(11),m=function(e){var t=Object(s.useState)([]),c=Object(n.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(!1),j=Object(n.a)(i,2),d=j[0],b=j[1],h=e.usersDetail.map((function(t){return"admin"!==t.role&&t.username!==e.selectedPost.username&&Object(u.jsxs)("div",{className:"form-check form-check-inline",children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",onClick:function(e){return function(e){var t=Object(p.a)(a);if(e.target.checked)t.push(e.target.value);else{var c=t.findIndex((function(t){return t===e.target.value}));t.splice(c,1)}null!==t&&b(!0),r(t)}(e)},value:t.username}),Object(u.jsx)("label",{className:"form-check-label",children:t.username})]},t.username)}));return Object(u.jsx)("div",{children:Object(u.jsx)(l.a,{show:e.activePopup,modelClosed:e.modelClosed,children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"jumbotron text-center my-5",id:"myProfileDiv",children:[Object(u.jsx)("h4",{className:"display-4",children:"Share Post"}),Object(u.jsx)("div",{children:h}),Object(u.jsx)(o.a,{disabled:!d,className:"my-2",onClick:function(){e.saveButtonHandler(a,e.selectedPost),e.modelClosed()},children:"Share"})]})})})})},f=(c(99),c(28)),x=c(29),v=c(40),P=c(39),g=function(e){Object(v.a)(c,e);var t=Object(P.a)(c);function c(){var e;Object(f.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={toggleSwitch:e.props.readMore},e.toggleHandler=function(){e.setState({toggleSwitch:!e.state.toggleSwitch})},e}return Object(x.a)(c,[{key:"render",value:function(){var e=this.state.toggleSwitch?Object(u.jsx)("p",{children:this.props.text.slice(0,200)}):Object(u.jsx)("p",{children:this.props.text});return Object(u.jsxs)("div",{children:[e,Object(u.jsx)("div",{className:"row justify-content-end mr-4 ",children:Object(u.jsx)("p",{className:"nav-link text-info small",onClick:this.toggleHandler,children:this.state.toggleSwitch?"Read More":"Read Less"})})]})}}]),c}(s.Component),k=function(e){var t=Object(s.useState)({activePopup:!1,currentPage:1,postPerPage:5,sortType:"asc",checkBox:!1,checkBoxPopUp:!1,selectedPost:{},readMore:!0}),c=Object(n.a)(t,2),i=c[0],l=c[1],j=Object(h.b)(),d=(Object(h.c)((function(e){return e.Post.userPost})),Object(h.c)((function(e){return e.Login.usersDetail}))),p=Object(h.c)((function(e){return e.Login.loggedInUser})),f=function(){l(Object(a.a)(Object(a.a)({},i),{},{activePopup:!0}))},x=function(){l(Object(a.a)(Object(a.a)({},i),{},{activePopup:!1,checkBoxPopUp:!1}))},v=function(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){t.current=e})),t.current}(i.checkBox);Object(s.useEffect)((function(){!v&&i.checkBox&&(window.confirm("Do you want to allow this post to be visible to other users?")?l(Object(a.a)(Object(a.a)({},i),{},{checkBoxPopUp:!0,checkBox:!1})):(j(O.l([],i.selectedPost)),l(Object(a.a)(Object(a.a)({},i),{},{checkBox:!1}))))}),[i.checkBox,i.selectedPost]);var P=i.currentPage*i.postPerPage,k=P-i.postPerPage,N=e.approvedPost.slice(k,P).sort((function(e,t){return("asc"===i.sortType?1:-1)*e.date.localeCompare(t.date)})).map((function(t){return Object(u.jsxs)("div",{className:"card m-3 mx-auto cardBox",style:{width:"45rem"},children:[Object(u.jsx)("div",{className:"postBox",children:Object(u.jsx)(g,{text:t.post,readMore:i.readMore})}),Object(u.jsxs)("div",{className:"row justify-content-between",children:["admin"===p.role&&"pendingPost"===e.tabContent&&Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",value:i.checkBox,onClick:function(e){return function(e,t,c){l(Object(a.a)(Object(a.a)({},i),{},{checkBox:!0,selectedPost:{post:t,username:c}}))}(0,t.post,t.username)}})}),Object(u.jsx)("div",{className:"col-5",children:Object(u.jsx)("small",{children:t.username})}),Object(u.jsx)("div",{className:"col-5",children:Object(u.jsx)("small",{children:t.date})})]})]},t.date)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"admin"===p.role||"allPost"!==e.tabContent&&"pendingPost"!==e.tabContent?"promotionalPost"===e.tabContent&&Object(u.jsx)(o.a,{className:"float-right",onClick:f,children:"Create Post"}):Object(u.jsx)(o.a,{className:"float-right",onClick:f,children:"Create Post"})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(o.a,{className:"btn-sm float-right",onClick:function(){"asc"===i.sortType?l(Object(a.a)(Object(a.a)({},i),{},{sortType:"desc"})):l(Object(a.a)(Object(a.a)({},i),{},{sortType:"asc"}))},children:"Sort Date"})}),Object(u.jsx)("div",{className:"",children:N}),Object(u.jsx)(r.a,{pageSelect:function(e){l(Object(a.a)(Object(a.a)({},i),{},{postPerPage:e}))},paginate:function(e){l(Object(a.a)(Object(a.a)({},i),{},{currentPage:e}))},currentPage:i.currentPage,postPerPage:i.postPerPage,totalPosts:e.approvedPost.length}),i.activePopup&&Object(u.jsx)(b,{activePopup:i.activePopup,saveButtonHandler:function(e,t){return j(O.j(e,t))},modelClosed:x}),i.checkBoxPopUp&&Object(u.jsx)(m,{loggedInUser:p,selectedPost:i.selectedPost,usersDetail:d,activePopup:i.checkBoxPopUp,modelClosed:x,saveButtonHandler:function(e,t){return j(O.l(e,t))}})]})};c(49),t.default=function(){var e=Object(s.useState)(2),t=Object(n.a)(e,2),c=t[0],a=t[1],o=Object(h.b)(),r=Object(h.c)((function(e){return e.Login.loggedInUser})),i=Object(h.c)((function(e){return e.Post.userPost})),l=Object(h.c)((function(e){return e.Post.pendingPostArray})),j=Object(h.c)((function(e){return e.Post.approvedPost})),d=Object(h.c)((function(e){return e.Post.adminPost})),b=function(e){a(e),o(O.h(i))};return Object(s.useEffect)((function(){o(O.f())}),[]),Object(s.useEffect)((function(){o(O.h(i))}),[i]),Object(u.jsxs)("div",{className:"tabDiv",children:[Object(u.jsxs)("div",{className:"bloc-tabs",children:[Object(u.jsx)("button",{className:1===c?"tabs active-tabs":"tabs",onClick:function(){return b(1)},children:"Pending Post"}),Object(u.jsx)("button",{className:2===c?"tabs active-tabs":"tabs",onClick:function(){return b(2)},children:"All Post"}),"admin"===r.role&&Object(u.jsx)("button",{className:3===c?"tabs active-tabs":"tabs",onClick:function(){return b(3)},children:"Promotional Post"})]}),Object(u.jsxs)("div",{className:"content-tabs",children:[Object(u.jsx)("div",{className:1===c?"content  active-content":"content",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h4",{className:"display-3 text-center heading",children:"Pending Post"}),Object(u.jsx)("hr",{}),Object(u.jsx)(k,{loggedInUser:r,approvedPost:l,tabContent:"pendingPost"})]})}),Object(u.jsx)("div",{className:2===c?"content  active-content":"content",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h4",{className:"display-3 text-center heading",children:"All Post"}),Object(u.jsx)("hr",{}),Object(u.jsx)(k,{loggedInUser:r,approvedPost:j,tabContent:"allPost"})]})}),Object(u.jsx)("div",{className:3===c?"content  active-content":"content",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h4",{className:"display-3 text-center heading",children:"Promotional Post"}),Object(u.jsx)("hr",{}),Object(u.jsx)(k,{loggedInUser:r,approvedPost:d,tabContent:"promotionalPost"})]})})]})]})}},88:function(e,t,c){"use strict";var n=c(6);function s(e,t){if(null==e)return{};var c,n,s=function(e,t){if(null==e)return{};var c,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(s[c]=e[c]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(s[c]=e[c])}return s}c(0);var a=c(3);t.a=function(e){var t=Object(n.a)({},e),c=t.className,o=s(t,["className"]),r=["btn btn-outline-info"];c&&r.push(c);var i=r.join(" ");return Object(a.jsx)("button",Object(n.a)(Object(n.a)({className:i},o),{},{children:e.children}))}},89:function(e,t,c){"use strict";var n=c(28),s=c(29),a=c(40),o=c(39),r=c(0),i=(c(90),c(91),c(3)),l=function(e){return e.show?Object(i.jsx)("div",{className:"Backdrop",onClick:e.clicked}):null},j=function(e){Object(a.a)(c,e);var t=Object(o.a)(c);function c(){return Object(n.a)(this,c),t.apply(this,arguments)}return Object(s.a)(c,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{show:this.props.show,clicked:this.props.modelClosed}),Object(i.jsx)("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),c}(r.Component);t.a=j},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){"use strict";var n=c(0),s=c(88),a=c(6),o=c(28),r=c(29),i=c(40),l=c(39),j=c(3),d=function(e){Object(i.a)(c,e);var t=Object(l.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){var e=this.props.options.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("select",Object(a.a)(Object(a.a)({className:"form-control"},this.props),{},{children:e}))})}}]),c}(n.Component);t.a=function(e){for(var t=e.postPerPage,c=e.totalPosts,n=e.paginate,a=e.currentPage,o=e.pageSelect,r=[],i=Math.ceil(c/t),l=1;l<=Math.ceil(c/t);l++)r.push(l);return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"form-inline float-right",children:[Object(j.jsx)(d,{onClick:function(e){return o(e.target.value)},options:[5,10,20]}),Object(j.jsx)(s.a,{onClick:function(){return n(1)},disabled:1===a,children:"First Page"}),Object(j.jsx)(s.a,{onClick:function(){return n(a+1)},disabled:a===i,children:"Next Page"}),r.map((function(e){return Object(j.jsx)("div",{className:"mx-1",children:Object(j.jsx)(s.a,{onClick:function(){return n(e)},children:e})},e)})),Object(j.jsx)(s.a,{onClick:function(){return n(a-1)},disabled:1===a,children:"Prev. Page"}),Object(j.jsx)(s.a,{onClick:function(){return n(Math.ceil(c/t))},disabled:a===i,children:"Last Page"})]})})}},98:function(e,t,c){},99:function(e,t,c){}}]);
//# sourceMappingURL=4.5b5caca6.chunk.js.map