(this["webpackJsonpblog-post-hooks"]=this["webpackJsonpblog-post-hooks"]||[]).push([[4],{101:function(e,t,c){"use strict";c.r(t);var n=c(15),o=c(0),s=(c(97),c(6)),r=c(85),a=c(91),i=c(39),l=c(88),u=c(35),j=c.n(u),d=c(3),b=function(e){var t=Object(o.useState)(500),c=Object(n.a)(t,2),r=c[0],a=c[1],u=Object(i.a)({mode:"onChange"}),b=u.register,h=u.handleSubmit,p=u.formState.errors;return Object(d.jsx)("div",{children:Object(d.jsx)(l.a,{show:e.activePopup,modelClosed:e.modelClosed,children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"jumbotron text-center my-5",id:"myProfileDiv",children:[Object(d.jsx)("h3",{className:"display-4",children:"Create Post"}),Object(d.jsxs)("form",{onSubmit:h((function(t){var c=new Date,n=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" "+(c.getHours()+":"+c.getMinutes()+":"+c.getSeconds());e.saveButtonHandler(t.post,n),e.modelClosed()})),children:[Object(d.jsx)("textarea",Object(s.a)({className:j()("form-control",{"is-invalid":p.post}),placeholder:"...WritePost"},b("post",{required:"Write Some Post",validate:function(e){return function(e){var t=e.length;a(500-t)}(e)}}))),p.post&&Object(d.jsx)("p",{className:"invalid-feedback",children:p.post.message}),Object(d.jsxs)("p",{className:"text-info",children:[" ","You Have"," ",Object(d.jsxs)("span",{className:0===r?"text-danger":"text-info",children:[" ",r]}),"Character Left.."]}),Object(d.jsx)("button",{className:"btn btn-outline-info",type:"submit",children:"Save Post"})]})]})})})})},h=c(19),p=c(16),f=c(11),O=function(e){var t=Object(o.useState)([]),c=Object(n.a)(t,2),s=c[0],a=c[1],i=Object(o.useState)(!1),u=Object(n.a)(i,2),j=u[0],b=u[1],h=e.usersDetail.map((function(t){return"admin"!==t.role&&t.username!==e.selectedPost.username&&Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{className:"form-check-input",type:"checkbox",onClick:function(e){return function(e){var t=Object(f.a)(s);if(e.target.checked)t.push(e.target.value);else{var c=t.findIndex((function(t){return t===e.target.value}));t.splice(c,1)}null!==t&&b(!0),a(t)}(e)},value:t.username}),Object(d.jsx)("label",{className:"form-check-label",children:t.username})]},t.username)}));return Object(d.jsx)("div",{children:Object(d.jsx)(l.a,{show:e.activePopup,modelClosed:e.modelClosed,children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"jumbotron text-center my-5",id:"myProfileDiv",children:[Object(d.jsx)("h4",{className:"display-4",children:"Share Post"}),Object(d.jsx)("div",{children:h}),Object(d.jsx)(r.a,{disabled:!j,className:"my-2",onClick:function(){e.saveButtonHandler(s,e.selectedPost),e.modelClosed()},children:"Share"})]})})})})},m=(c(98),c(31)),x=c(32),v=c(87),P=c(86),g=function(e){Object(v.a)(c,e);var t=Object(P.a)(c);function c(){var e;Object(m.a)(this,c);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={toggleSwitch:e.props.readMore},e.toggleHandler=function(){e.setState({toggleSwitch:!e.state.toggleSwitch})},e}return Object(x.a)(c,[{key:"render",value:function(){var e=this.state.toggleSwitch?Object(d.jsx)("p",{children:this.props.text.slice(0,200)}):Object(d.jsx)("p",{children:this.props.text});return Object(d.jsxs)("div",{children:[e,Object(d.jsx)("div",{className:"row justify-content-end mr-4 ",children:Object(d.jsx)("p",{className:"nav-link text-info small",onClick:this.toggleHandler,children:this.state.toggleSwitch?"Read More":"Read Less"})})]})}}]),c}(o.Component),y=function(e){var t=Object(o.useState)({activePopup:!1,currentPage:1,postPerPage:5,sortType:"asc",checkBox:!1,checkBoxPopUp:!1,selectedPost:{},readMore:!0}),c=Object(n.a)(t,2),i=c[0],l=c[1],u=Object(h.b)(),j=(Object(h.c)((function(e){return e.Post.userPost})),Object(h.c)((function(e){return e.Login.usersDetail}))),f=Object(h.c)((function(e){return e.Login.loggedInUser})),m=function(){l(Object(s.a)(Object(s.a)({},i),{},{activePopup:!0}))},x=function(){l(Object(s.a)(Object(s.a)({},i),{},{activePopup:!1,checkBoxPopUp:!1}))},v=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),t.current}(i.checkBox);Object(o.useEffect)((function(){!v&&i.checkBox&&(window.confirm("Do you want to allow this post to be visible to other users?")?l(Object(s.a)(Object(s.a)({},i),{},{checkBoxPopUp:!0,checkBox:!1})):(u(p.l([],i.selectedPost)),l(Object(s.a)(Object(s.a)({},i),{},{checkBox:!1}))))}),[i.checkBox,i.selectedPost]);var P=i.currentPage*i.postPerPage,y=P-i.postPerPage,k=e.approvedPost.slice(y,P).sort((function(e,t){return("asc"===i.sortType?1:-1)*e.date.localeCompare(t.date)})).map((function(t){return Object(d.jsxs)("div",{className:"card m-3 mx-auto cardBox",style:{width:"45rem"},children:[Object(d.jsx)("div",{className:"postBox",children:Object(d.jsx)(g,{text:t.post,readMore:i.readMore})}),Object(d.jsxs)("div",{className:"row justify-content-between",children:["admin"===f.role&&"pendingPost"===e.tabContent&&Object(d.jsx)("div",{className:"col-2",children:Object(d.jsx)("input",{className:"form-check-input",type:"checkbox",value:i.checkBox,onClick:function(e){return function(e,t,c){l(Object(s.a)(Object(s.a)({},i),{},{checkBox:!0,selectedPost:{post:t,username:c}}))}(0,t.post,t.username)}})}),Object(d.jsx)("div",{className:"col-5",children:Object(d.jsx)("small",{children:t.username})}),Object(d.jsx)("div",{className:"col-5",children:Object(d.jsx)("small",{children:t.date})})]})]},t.date)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"admin"===f.role||"allPost"!==e.tabContent&&"pendingPost"!==e.tabContent?"promotionalPost"===e.tabContent&&Object(d.jsx)(r.a,{className:"float-right",onClick:m,children:"Create Post"}):Object(d.jsx)(r.a,{className:"float-right",onClick:m,children:"Create Post"})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(r.a,{className:"btn-sm float-right",onClick:function(){"asc"===i.sortType?l(Object(s.a)(Object(s.a)({},i),{},{sortType:"desc"})):l(Object(s.a)(Object(s.a)({},i),{},{sortType:"asc"}))},children:"Sort Date"})}),Object(d.jsx)("div",{className:"",children:k}),Object(d.jsx)(a.a,{pageSelect:function(e){l(Object(s.a)(Object(s.a)({},i),{},{postPerPage:e}))},paginate:function(e){l(Object(s.a)(Object(s.a)({},i),{},{currentPage:e}))},currentPage:i.currentPage,postPerPage:i.postPerPage,totalPosts:e.approvedPost.length}),i.activePopup&&Object(d.jsx)(b,{activePopup:i.activePopup,saveButtonHandler:function(e,t){return u(p.j(e,t))},modelClosed:x}),i.checkBoxPopUp&&Object(d.jsx)(O,{loggedInUser:f,selectedPost:i.selectedPost,usersDetail:j,activePopup:i.checkBoxPopUp,modelClosed:x,saveButtonHandler:function(e,t){return u(p.l(e,t))}})]})};c(47),t.default=function(){var e=Object(o.useState)(2),t=Object(n.a)(e,2),c=t[0],s=t[1],r=Object(h.b)(),a=Object(h.c)((function(e){return e.Login.loggedInUser})),i=Object(h.c)((function(e){return e.Post.userPost})),l=Object(h.c)((function(e){return e.Post.pendingPostArray})),u=Object(h.c)((function(e){return e.Post.approvedPost})),j=Object(h.c)((function(e){return e.Post.adminPost})),b=function(e){s(e),r(p.h(i))};return Object(o.useEffect)((function(){r(p.f())}),[]),Object(o.useEffect)((function(){r(p.h(i))}),[i]),Object(d.jsxs)("div",{className:"tabDiv",children:[Object(d.jsxs)("div",{className:"bloc-tabs",children:[Object(d.jsx)("button",{className:1===c?"tabs active-tabs":"tabs",onClick:function(){return b(1)},children:"Pending Post"}),Object(d.jsx)("button",{className:2===c?"tabs active-tabs":"tabs",onClick:function(){return b(2)},children:"All Post"}),"admin"===a.role&&Object(d.jsx)("button",{className:3===c?"tabs active-tabs":"tabs",onClick:function(){return b(3)},children:"Promotional Post"})]}),Object(d.jsxs)("div",{className:"content-tabs",children:[Object(d.jsx)("div",{className:1===c?"content  active-content":"content",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h4",{className:"display-3 text-center heading",children:"Pending Post"}),Object(d.jsx)("hr",{}),Object(d.jsx)(y,{loggedInUser:a,approvedPost:l,tabContent:"pendingPost"})]})}),Object(d.jsx)("div",{className:2===c?"content  active-content":"content",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h4",{className:"display-3 text-center heading",children:"All Post"}),Object(d.jsx)("hr",{}),Object(d.jsx)(y,{loggedInUser:a,approvedPost:u,tabContent:"allPost"})]})}),Object(d.jsx)("div",{className:3===c?"content  active-content":"content",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h4",{className:"display-3 text-center heading",children:"Promotional Post"}),Object(d.jsx)("hr",{}),Object(d.jsx)(y,{loggedInUser:a,approvedPost:j,tabContent:"promotionalPost"})]})})]})]})}},85:function(e,t,c){"use strict";var n=c(6);function o(e,t){if(null==e)return{};var c,n,o=function(e,t){if(null==e)return{};var c,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(o[c]=e[c]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(o[c]=e[c])}return o}c(0);var s=c(3);t.a=function(e){var t=Object(n.a)({},e),c=t.className,r=o(t,["className"]),a=["btn btn-outline-info"];c&&a.push(c);var i=a.join(" ");return Object(s.jsx)("button",Object(n.a)(Object(n.a)({className:i},r),{},{children:e.children}))}},86:function(e,t,c){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,o=n(e);if(t){var r=n(this).constructor;c=Reflect.construct(o,arguments,r)}else c=o.apply(this,arguments);return s(this,c)}}c.d(t,"a",(function(){return r}))},87:function(e,t,c){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}c.d(t,"a",(function(){return o}))},88:function(e,t,c){"use strict";var n=c(31),o=c(32),s=c(87),r=c(86),a=c(0),i=(c(89),c(90),c(3)),l=function(e){return e.show?Object(i.jsx)("div",{className:"Backdrop",onClick:e.clicked}):null},u=function(e){Object(s.a)(c,e);var t=Object(r.a)(c);function c(){return Object(n.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{show:this.props.show,clicked:this.props.modelClosed}),Object(i.jsx)("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),c}(a.Component);t.a=u},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){"use strict";var n=c(0),o=c(85),s=c(6),r=c(31),a=c(32),i=c(87),l=c(86),u=c(3),j=function(e){Object(i.a)(c,e);var t=Object(l.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(a.a)(c,[{key:"render",value:function(){var e=this.props.options.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("select",Object(s.a)(Object(s.a)({className:"form-control"},this.props),{},{children:e}))})}}]),c}(n.Component);t.a=function(e){for(var t=e.postPerPage,c=e.totalPosts,n=e.paginate,s=e.currentPage,r=e.pageSelect,a=[],i=Math.ceil(c/t),l=1;l<=Math.ceil(c/t);l++)a.push(l);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"form-inline float-right",children:[Object(u.jsx)(j,{onClick:function(e){return r(e.target.value)},options:[5,10,20]}),Object(u.jsx)(o.a,{onClick:function(){return n(1)},disabled:1===s,children:"First Page"}),Object(u.jsx)(o.a,{onClick:function(){return n(s+1)},disabled:s===i,children:"Next Page"}),a.map((function(e){return Object(u.jsx)("div",{className:"mx-1",children:Object(u.jsx)(o.a,{onClick:function(){return n(e)},children:e})},e)})),Object(u.jsx)(o.a,{onClick:function(){return n(s-1)},disabled:1===s,children:"Prev. Page"}),Object(u.jsx)(o.a,{onClick:function(){return n(Math.ceil(c/t))},disabled:s===i,children:"Last Page"})]})})}},97:function(e,t,c){},98:function(e,t,c){}}]);
//# sourceMappingURL=4.1e2a377f.chunk.js.map